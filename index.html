<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Happy Birthday ♥</title>

  <!-- Handwritten / display fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#0a0a0a;
      --purple:#8b0000;
      --blue:#1a1a1a;
      --light-blue:#2d2d2d;
      --paper:#fafafa;
      --seal:#dc143c;
      --card-width:900px;
      --card-height:560px;
    }

    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Roboto,system-ui,-apple-system,Segoe UI,Arial;}
    body{
      background: radial-gradient(1200px 600px at 10% 10%, rgba(139,0,0,0.15), transparent),
                  radial-gradient(900px 400px at 90% 90%, rgba(45,45,45,0.1), transparent),
                  var(--bg);
      display:flex;align-items:center;justify-content:center;padding:24px;
      color:#111;
    }

    .stage{
      width:100%;
      max-width:var(--card-width);
      height:var(--card-height);
      position:relative;
      perspective:1200px;
      display:flex;
      align-items:center;
      justify-content:center;
    }

    .envelope{
      width:85%;
      max-width:820px;
      height:68%;
      max-height:420px;
      transform-style:preserve-3d;
      position:relative;
      transition:transform .8s cubic-bezier(.2,.95,.2,1);
      cursor:pointer;
      user-select:none;
    }

    .env-bottom{
      position:absolute;
      left:0;right:0;bottom:0;
      height:62%;
      background:linear-gradient(180deg, #1a1a1a, #2d2d2d);
      border-radius:8px;
      transform-origin:top center;
      box-shadow:0 10px 30px rgba(0,0,0,0.8), inset 0 -3px 10px rgba(220,20,60,0.15);
      z-index:1;
      padding-top:36%;
      display:flex;align-items:flex-start;justify-content:center;
      overflow:hidden;
    }

    .env-flap{
      position:absolute;
      left:0;right:0;top:0;
      height:62%;
      transform-origin:top center;
      z-index:5;
      display:flex;align-items:center;justify-content:center;
      transition:transform .9s cubic-bezier(.2,.95,.2,1);
      pointer-events:none;
    }
    .env-flap .triangle{
      width:100%;
      height:100%;
      clip-path: polygon(50% 0, 100% 50%, 50% 100%, 0 50%);
      background:linear-gradient(180deg, #2a2a2a, #0f0f0f);
      border-radius:6px;
      box-shadow: 0 8px 18px rgba(0,0,0,0.9), inset 0 -4px 10px rgba(220,20,60,0.1);
    }

    .seal{
      position:absolute;
      left:50%;
      top:22%;
      transform:translateX(-50%);
      width:96px;height:96px;
      border-radius:50%;
      background:radial-gradient(circle at 30% 30%, #ff4466, #dc143c 55%, #8b0000 100%);
      display:flex;align-items:center;justify-content:center;
      z-index:8;
      box-shadow:0 8px 24px rgba(220,20,60,0.4), 0 0 30px rgba(220,20,60,0.2);
      transition:transform .7s cubic-bezier(.2,.95,.2,1),opacity .6s;
      pointer-events:none;
    }

    .paper{
      position:absolute;
      left:50%;
      top:52%;
      transform:translate(-50%,-50%);
      width:86%;
      height:68%;
      background:linear-gradient(135deg, #fafafa 0%, #f5f5f5 100%);
      border-radius:10px;
      box-shadow:0 18px 30px rgba(0,0,0,0.6), inset 0 1px 0 rgba(255,255,255,0.8);
      z-index:3;
      padding:36px 48px;
      opacity:0;
      transform-origin:top center;
      transition:all .9s cubic-bezier(.2,.95,.2,1);
      overflow:auto;
      pointer-events:none;
      display:flex;
      flex-direction:column;
    }

    .heading{
      font-family:'Great Vibes', cursive;
      font-size:48px;
      color:#8b0000;
      margin:2px 0 6px 0;
      letter-spacing:0.5px;
    }

    .sub{
      font-size:20px;color:#2a2a2a;margin-bottom:18px;
      color:#8b0000;
    }

    .message{
      font-size:15px;line-height:1.6;color:#333;max-width:720px;
      flex-grow:1;
    }

    .envelope.open .env-flap{ transform: rotateX(180deg) translateY(-8px); }
    .envelope.open .env-bottom{ transform: translateY(8px); }
    .envelope.open .seal{ transform: translate(-50%, -14px) scale(.7) rotate(-8deg); opacity:.92; }
    .envelope.open .paper{ opacity:1; transform:translate(-50%,-58%) scale(1); z-index:9; pointer-events:auto; }

    .paper{ transform: translate(-50%,-44%) scale(.98); }

    @media (max-width:720px){
      :root{--card-width:720px;--card-height:520px;}
      .stage{padding:12px}
      .heading{font-size:36px}
      .paper{padding:22px}
      .seal{width:72px;height:72px;top:18%}
    }

    .hint{
      position:absolute;left:50%;bottom:-40px;transform:translateX(-50%);
      color:#e6eefc;font-weight:600;font-size:14px;padding:8px 14px;border-radius:20px;background:rgba(220,20,60,0.1);
      border:1px solid rgba(220,20,60,0.3);
      backdrop-filter: blur(4px);
      transition:opacity .6s;
    }
  </style>
</head>

<body>

  <!-- Background song -->
  <audio id="bgm" loop preload="auto" playsinline>
    <source src="happy-birthday.mp3" type="audio/mp3">
  </audio>

  <div class="stage">
    <div id="envelope" class="envelope" role="button" aria-pressed="false" tabindex="0">
      <div class="env-bottom"></div>

      <div class="env-flap">
        <div class="triangle"></div>
      </div>

      <div class="seal">
        <svg width="44" height="44" viewBox="0 0 24 24" fill="none">
          <path d="M12 20s-7.2-4.5-9.1-7.1C-0.4 8.5 4.6 5 7.4 7.7 9 9 12 12 12 12s3-3 4.6-4.3C19.4 5 24.4 8.5 21.1 12.9 19.2 15.5 12 20 12 20z" fill="#fff" opacity="0.06"/>
          <path d="M12.1 21s-7.7-4.7-9.8-7.5C-0.1 8.1 4.7 4.9 7.7 7.9 9.6 9.8 12 12.6 12 12.6s2.4-2.8 4.3-4.7c3-3 8-0.2 7.4 5.1-1.9 2.8-9.6 7-11.6 7z" fill="#fff" opacity="0.08"/>
          <path d="M12 8.6c-1.2-2-3.9-2.1-5.4-.6-1.7 1.6-1.3 4.3 1.5 7.4 2.7 3.1 5.1 4.1 5.1 4.1s2.4-1 5.1-4.1c2.8-3.1 3.2-5.8 1.5-7.4-1.6-1.5-4.2-1.3-5.4.6L12 8.6z" fill="#fff"/>
        </svg>
      </div>

      <div class="paper">

        <div style="font-size:12px;color:#7b8aa8">01 · 12 · 2025</div>

        <h1 class="heading">Happy Birthday Mahal Ko</h1>

        <div class="sub">I’m so happy to celebrate this day with you.</div>

        <div class="message">
          <strong style="font-size:16px">Dear Aivan,</strong><br><br>
          Happy birthday sa pinakamahal ko sa mundo. Ngayon, December 1st, is the day I get to celebrate the existence ng isang taong nag-transform sa buhay ko in ways I never thought possible.
          <br><br>
          Totoo, hindi ako makahanap ng perfect words pero try ko lang. Every single day with you, nakikita ko kung gaano ka-special. The way you laugh, the way you care about things even when the world doesn't, the gentleness na dala mo sa mundo kahit meron kang sariling struggles. You're the kind of person na kapag nandyan ka, parang everything's gonna be okay. Hindi ako nag-overthink, hindi ako nag-worry as much dahil alam ko you got my back.
          <br><br>
          Sa simula pa lang, parang alam ko na ikaw ang taong hinahanap ko. You didn't come in like some grand entrance, you just quietly became my home, my safe place, my favorite person. The way you listen when I talk about things, how you remember the smallest details about me, how you try your best, lahat yan makes my heart so full.
          <br><br>
          This year, gusto ko na everything you've been dreaming of comes true. You deserve all the happiness in the universe, lahat ng blessings, lahat ng good things. Deserve mo yung best na best. I hope this year you finally see yourself the way I see you, beautiful, capable, worthy of everything good.
          <br><br>
          I want you to know na I'm here, always. Through happy moments, through confusing times, through whatever comes our way. I'm choosing you, not just today, but every single day after. Thank you for being you, for loving me the way you do, for making ordinary days feel extraordinary.
          <br><br>
          Forever yours,<br>
          <em style="font-family:'Great Vibes',cursive;font-size:20px">Nathalie</em>
        </div>

      </div>
    </div>

    <div class="hint" id="hint">Tap to open</div>
  </div>

  <script>
    const envelope = document.getElementById('envelope');
    const hint = document.getElementById('hint');
    const bgm = document.getElementById('bgm');
    let opened = false;

    function forcePlayMusic() {
      bgm.currentTime = 0;
      bgm.play().catch(() => {});
    }

    function openEnvelope() {
      if(opened) return;
      opened = true;
      envelope.classList.add('open');
      hint.style.opacity = 0;

      // Play music with a slight delay for iPhone compatibility
      setTimeout(() => {
        forcePlayMusic();
      }, 150);
    }

    envelope.addEventListener('click', openEnvelope);
    envelope.addEventListener('keydown', (e)=>{ 
      if(e.key==='Enter'||e.key===' ') openEnvelope(); 
    });

    // Allow music on second click if autoplay was blocked
    document.addEventListener("click", () => {
      if (opened) forcePlayMusic();
    }, { once: true });
  </script>

</body>
</html>
